## 算法笔记

1.最长回文串

*中心扩散法

思想：以单核和双核为中心点向两边扩散，选取最长的子回文串作为当前最大长度，记录起点和终点，并进行更			新。

复杂度分析：外层循环取中心点，内层为比较所以时间复杂度为O(n^2)。空间复杂度为O(1)。

代码示例：

```java
public String longestPalindrome(String s){
    int max=0,start=0;//max回文的最大长度，start回文串起点
    for(int i=0;i<s.length();i++){
        //单核与双核比较子回文串长度
        int currMax=Math.max(getPalindrome(s,i,i),getPalindrome(s,i,i+1));
        if(currMax>max){
            max=currMax;
            //计算起点，单核折半应包括核所以要加一进行折半
            start=i-(currMax+1)/2+1;
        }
    }
    return s.substring(start,start+max);
}
public int getPalindromelength(String s,int l,int r){
    while(l>=0&&r<s.length()&&s.charAt(l)==s.charAt(r)){
        l--;
        r++;
    }
    return r-l-1;
}
```

2.直方图存水量

算法：双指针法

​	思路：只要两头夹得中间有较小值即可存水，否则较大值相减存零。左指针向右探测，右指针向左探测。以一边去走，发现一边为屏障即更换探测方向。

```java
public int trap(int[] height) {
        int l=0;
        int res = 0;
        int r=height.length-1;
        int temp=0;
        while(l<r){
            if(height[l]<=height[r]){
                temp = Math.max(temp,height[l]);
                res+=temp-height[l++];
            }
            else{
                temp = Math.max(temp,height[r]);
                res+=temp-height[r--];
            }
        }
        return res;
    }
```

Z字形变换

```java 
将字符串按照行数求余保存
k=i%(2*row-2)
if k>=row-1 则行数为 2*n-2-k else 为 k
public String convert(String s, int numRows) {
        if(s==null||s.length()<1)
        return "";
        if(numRows==1)
        return s;
        String s1="";
        int n=0;
        while(n<numRows){
            for(int i=0;i<s.length();i++){
           int k=i%(2*(numRows-1));
                int m=2*(numRows-1);
                if((k>=numRows-1&&m-k==n)||k==n){
                    s1+=s.charAt(i);
                }
            
            }
            n++;
        }
        return s1;
    }
```

